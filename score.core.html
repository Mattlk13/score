<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>score.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Score</span> <span class="project-version">0.4.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="amplitude.html"><div class="inner"><span>Amplitude</span></div></a></li><li class="depth-1 "><a href="basics.html"><div class="inner"><span>Basics of Score Writing Using Lists </span></div></a></li><li class="depth-1 "><a href="csound.html"><div class="inner"><span>Csound Live Coding Example </span></div></a></li><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to Score</span></div></a></li><li class="depth-1 "><a href="manipulation.html"><div class="inner"><span>Score Manipulation</span></div></a></li><li class="depth-1 "><a href="mask.html"><div class="inner"><span>Mask</span></div></a></li><li class="depth-1 "><a href="measured_score.html"><div class="inner"><span>Measured and Timed Scores</span></div></a></li><li class="depth-1 "><a href="pitch.html"><div class="inner"><span>Working with Pitch</span></div></a></li><li class="depth-1 "><a href="score_gen.html"><div class="inner"><span>Score Generation</span></div></a></li><li class="depth-1 "><a href="sieves.html"><div class="inner"><span>Sieves</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>score</span></div></div></li><li class="depth-2 branch"><a href="score.amp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>amp</span></div></a></li><li class="depth-2 branch current"><a href="score.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="score.freq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>freq</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mask</span></div></div></li><li class="depth-3 branch"><a href="score.mask.accumulator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>accumulator</span></div></a></li><li class="depth-3 branch"><a href="score.mask.bpf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bpf</span></div></a></li><li class="depth-3 branch"><a href="score.mask.generators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generators</span></div></a></li><li class="depth-3 branch"><a href="score.mask.items.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>items</span></div></a></li><li class="depth-3 branch"><a href="score.mask.mask.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mask</span></div></a></li><li class="depth-3 branch"><a href="score.mask.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 branch"><a href="score.mask.probability.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>probability</span></div></a></li><li class="depth-3"><a href="score.mask.quantizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>quantizer</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>orchestra</span></div></div></li><li class="depth-3 branch"><a href="score.orchestra.performer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>performer</span></div></a></li><li class="depth-3"><a href="score.orchestra.performer-group.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>performer-group</span></div></a></li><li class="depth-2 branch"><a href="score.sieves.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>sieves</span></div></a></li><li class="depth-2 branch"><a href="score.tuning.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tuning</span></div></a></li><li class="depth-2"><a href="score.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="score.core.html#var-convert-measured-score"><div class="inner"><span>convert-measured-score</span></div></a></li><li class="depth-1"><a href="score.core.html#var-convert-timed-score"><div class="inner"><span>convert-timed-score</span></div></a></li><li class="depth-1"><a href="score.core.html#var-format-sco"><div class="inner"><span>format-sco</span></div></a></li><li class="depth-1"><a href="score.core.html#var-gen-notes"><div class="inner"><span>gen-notes</span></div></a></li><li class="depth-1"><a href="score.core.html#var-gen-notes2"><div class="inner"><span>gen-notes2</span></div></a></li><li class="depth-1"><a href="score.core.html#var-gen-score"><div class="inner"><span>gen-score</span></div></a></li><li class="depth-1"><a href="score.core.html#var-gen-score2"><div class="inner"><span>gen-score2</span></div></a></li><li class="depth-1"><a href="score.core.html#var-get-measure-beat-length"><div class="inner"><span>get-measure-beat-length</span></div></a></li><li class="depth-1"><a href="score.core.html#var-process-notes"><div class="inner"><span>process-notes</span></div></a></li><li class="depth-1"><a href="score.core.html#var-rand-range"><div class="inner"><span>rand-range</span></div></a></li><li class="depth-1"><a href="score.core.html#var-starting-at"><div class="inner"><span>starting-at</span></div></a></li><li class="depth-1"><a href="score.core.html#var-with-start"><div class="inner"><span>with-start</span></div></a></li><li class="depth-1"><a href="score.core.html#var-with-tempo"><div class="inner"><span>with-tempo</span></div></a></li><li class="depth-1"><a href="score.core.html#var-wrap-generator"><div class="inner"><span>wrap-generator</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">score.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-convert-measured-score"><h3>convert-measured-score</h3><div class="usage"><code>(convert-measured-score score)</code></div><div class="doc"><pre class="plaintext">Converts a measured score into a single score list. The measured-score
is a single list that has the following shape:

[:meter 4 4 
  0 list0 list1 
  1 list0 
  2 list0 list1]

Given a meter of 4/4, process each value according the following rules:

* If a number is found, set that as current measure number. 
* If a list is found, check if it is a single note or a list of notes. 
  If it is a list of notes, adjust start time using with-start and beat
  value calculated to measure number.  If it is a single note, adjust
  start time of the single note relative to the measure number. 

For example, list0 is played at measure 0, 1, and 2,
while list1 is played only in measures 0 and 2.  If list1 had only one note
of [instr-func 0.0 1.0], then the generated score would have:

[[instr-func 0.0 1.0] [instr-func 8.0 1.0]] 

This notation allows for organizing hierarchies of materials as lists
of notes. Note, notes within note lists must be in the format of:

[instr-func start-time optional-args...]</pre></div></div><div class="public anchor" id="var-convert-timed-score"><h3>convert-timed-score</h3><div class="usage"><code>(convert-timed-score score)</code></div><div class="doc"><pre class="plaintext">Converts a timed score into a single score list. The measured-score
is a single list that has the following shape:

[ 0 list0 list1 
  10 list0 
  20 list0 list1]

Processes each value according the following rules:

* If a number is found, set that as current start time in beats. 
* If a list is found, check if it is a single note or a list of notes. 
  If it is a list of notes, adjust start time using with-start and 
  current start-time.  If it is a single note, adjust
  start time of the single note relative to the start-time given. 

For example, list0 is played at times 0, 10, and 20,
while list1 is played at times 0 and 20.  If list1 had only one note
of [instr-func 0.0 1.0], then the generated score would have:

[[instr-func 0.0 1.0] [instr-func 20.0 1.0]] 

This notation allows for organizing hierarchies of materials as lists
of notes. Note, notes within note lists must be in the format of:

[instr-func start-time optional-args...]</pre></div></div><div class="public anchor" id="var-format-sco"><h3>format-sco</h3><div class="usage"><code>(format-sco notes)</code></div><div class="doc"><pre class="plaintext">Formats a list of notes into a Csound SCO string
</pre></div></div><div class="public anchor" id="var-gen-notes"><h3>gen-notes</h3><div class="usage"><code>(gen-notes &amp; fields)</code></div><div class="doc"><pre class="plaintext">Generate notes by assembling sequences together into notes. 
If a constant value is given, it will be wrapped with (repeat).
If a no-arg function is given, it will be wrapped with (repeatedly).</pre></div></div><div class="public anchor" id="var-gen-notes2"><h3>gen-notes2</h3><div class="usage"><code>(gen-notes2 start dur &amp; fields)</code></div><div class="doc"><pre class="plaintext">Generate notes with time-based generator functions. This score generation method
is based on CMask. Given fields should be single-arg functions that generate a 
value based-on time argument.</pre></div></div><div class="public anchor" id="var-gen-score"><h3>gen-score</h3><div class="usage"><code>(gen-score &amp; fields)</code></div><div class="doc"><pre class="plaintext">Generates Csound score using gen-notes, then apply format-sco
</pre></div></div><div class="public anchor" id="var-gen-score2"><h3>gen-score2</h3><div class="usage"><code>(gen-score2 start dur &amp; fields)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-measure-beat-length"><h3>get-measure-beat-length</h3><div class="usage"><code>(get-measure-beat-length meter-num meter-beats)</code></div><div class="doc"><pre class="plaintext">Gets beat length of measure given beat value and meter. I.e. for
beat = 4, and meter of 4 4, returns 4 beats as the measure length.</pre></div></div><div class="public anchor" id="var-process-notes"><h3>process-notes</h3><h4 class="type">macro</h4><div class="usage"><code>(process-notes notelist &amp; body)</code></div><div class="doc"><pre class="plaintext">Process given notelist using pairs of index and functions. For example,
using:

(process-notes notes 
  3 db-&gt;amp
  4 keyword-&gt;freq)

will process each note in notes, converting the 4th field with db-&gt;amp and
5th field with keyword-&gt;freq.  Uses swapv! from pink.util.</pre></div></div><div class="public anchor" id="var-rand-range"><h3>rand-range</h3><div class="usage"><code>(rand-range low high)</code></div><div class="doc"><pre class="plaintext">Generates random value between low and high
</pre></div></div><div class="public anchor" id="var-starting-at"><h3>starting-at</h3><div class="usage"><code>(starting-at start sco)</code></div><div class="doc"><pre class="plaintext">Given a starting time and given score, returns a note list where all notes with
starting times earlier than the given start are dropped, and all remaining notes
have their times translated relative to the start time.  Useful when developing 
works to take a score start at a time somewhere in the middle, then send that off
to a running engine.</pre></div></div><div class="public anchor" id="var-with-start"><h3>with-start</h3><div class="usage"><code>(with-start start sco)</code></div><div class="doc"><pre class="plaintext">Translates note vectors in time by start value. Start may either be a double
value, where inde of start time in notes is assumed to be 1, or start may
also be given as a 2-vector in the form [index startime].</pre></div></div><div class="public anchor" id="var-with-tempo"><h3>with-tempo</h3><div class="usage"><code>(with-tempo tempo notes)</code><code>(with-tempo tempo note &amp; notes)</code></div><div class="doc"><pre class="plaintext">Adjust note start and durations according to tempo. 1.0 equals one beat at 
tempo.</pre></div></div><div class="public anchor" id="var-wrap-generator"><h3>wrap-generator</h3><div class="usage"><code>(wrap-generator f)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>