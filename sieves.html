<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>Sieves</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Score</span> <span class="project-version">0.4.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="basics.html"><div class="inner"><span>Basics of Score Writing Using Lists </span></div></a></li><li class="depth-1 "><a href="csound.html"><div class="inner"><span>Csound Live Coding Example </span></div></a></li><li class="depth-1 "><a href="design.html"><div class="inner"><span>Design</span></div></a></li><li class="depth-1 "><a href="euclid.html"><div class="inner"><span>Euclidean Rhythms</span></div></a></li><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to Score</span></div></a></li><li class="depth-1 "><a href="lc.html"><div class="inner"><span>lc! - mini-language for notation</span></div></a></li><li class="depth-1 "><a href="mask.html"><div class="inner"><span>Mask</span></div></a></li><li class="depth-1 "><a href="musical_values.html"><div class="inner"><span>Musical Values</span></div></a></li><li class="depth-1 "><a href="score_gen.html"><div class="inner"><span>Score Generation</span></div></a></li><li class="depth-1 "><a href="score_mapping.html"><div class="inner"><span>Score Mapping </span></div></a></li><li class="depth-1 "><a href="score_organization.html"><div class="inner"><span>Score Organization </span></div></a></li><li class="depth-1  current"><a href="sieves.html"><div class="inner"><span>Sieves</span></div></a></li><li class="depth-1 "><a href="transformation.html"><div class="inner"><span>Score Transformation </span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>score</span></div></div></li><li class="depth-2 branch"><a href="score.amp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>amp</span></div></a></li><li class="depth-2 branch"><a href="score.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="score.euclid.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>euclid</span></div></a></li><li class="depth-2 branch"><a href="score.freq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>freq</span></div></a></li><li class="depth-2 branch"><a href="score.lc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lc</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mask</span></div></div></li><li class="depth-3 branch"><a href="score.mask.accumulator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>accumulator</span></div></a></li><li class="depth-3 branch"><a href="score.mask.bpf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bpf</span></div></a></li><li class="depth-3 branch"><a href="score.mask.generators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generators</span></div></a></li><li class="depth-3 branch"><a href="score.mask.items.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>items</span></div></a></li><li class="depth-3 branch"><a href="score.mask.mask.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mask</span></div></a></li><li class="depth-3 branch"><a href="score.mask.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 branch"><a href="score.mask.probability.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>probability</span></div></a></li><li class="depth-3"><a href="score.mask.quantizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>quantizer</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>orchestra</span></div></div></li><li class="depth-3 branch"><a href="score.orchestra.performer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>performer</span></div></a></li><li class="depth-3"><a href="score.orchestra.performer-group.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>performer-group</span></div></a></li><li class="depth-2 branch"><a href="score.sieves.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>sieves</span></div></a></li><li class="depth-2 branch"><a href="score.tuning.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tuning</span></div></a></li><li class="depth-2"><a href="score.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#sieves" name="sieves"></a>Sieves</h1>
<h2><a href="#introduction" name="introduction"></a>Introduction</h2>
<p>“…sieve theory is the study of the internal symmetries of a series of points either constructed intuitively, given by observation, or invented completely from moduli of repetition.” </p>
<ul>
  <li>Xenakis, Formalized Music, pp. 276</li>
</ul>
<p>score.sieves provides sieve functions based on the work of Iannis Xenakis. Sieves are represented as a 2-vector of [modulo index]. U and I are used to create Union and Intersection Sieves. Sieves may also be nil, though are factored out when a Sieve is simplified, and generates no sequence when gen-sieve is called.</p>
<h2><a href="#usage" name="usage"></a>Usage</h2>
<p>Sieves are used to generate a series of numbers that have been sieved according to values given by the user. The process starts with the series of positive numbers starting from zero. The numbers are then filtered against the given sieves. </p>
<p>In score.sieves, the gen-sieves function is used to generate a sequence using sieves. The function takes in the number of steps to generate and a sieve to use. </p>
<p>The basic sieve is a 2-vector of [modulo index]. The modulo gives the period of the sieve, and the index gives the offset. For example, a sieve [4 1] would start at index 1, and repeat every 4:</p>
<pre><code class="clojure">user=&gt; (gen-sieve 12 [4 1])
(1 5 9 13 17 21 25 29 33 37 41 45)
</code></pre>
<p>A Union filters according to a set of sieves. Any value that satisfies any of the sieves in the union will be passed through. This is equivalent to a logical or:</p>
<pre><code class="clojure">user=&gt; (gen-sieve 12 (U [4 1] [3 2]) )
(1 5 9 13 17 21 25 29 33 37 41 45)
</code></pre>
<p>An Intersection filters according to a set of a other sieves. However, unlike a Union, a value is passed through only if it satisfies all sieves within the intersection. This is equivalent to a logical and:</p>
<pre><code class="clojure">user=&gt; (gen-sieve 12 (I [4 1] [3 2]))
(5 17 29 41 53 65 77 89 101 113 125 137)
</code></pre>
<p>More complex sieves can be made up of nested Unions and Intersections: </p>
<pre><code class="clojure">user=&gt; (gen-sieve 12 (U [3 2] (I [3 2] [2 0])))
(2 5 8 11 14 17 20 23 26 29 32 35)
</code></pre>
<p>When gen-sieves is called, sieves are first normalized, then simplified, before generating values. You can view the simplified version of a sieve by using the simplified function:</p>
<pre><code class="clojure">user=&gt; (simplified (U [3 2] (I [3 2] [2 0])))
#score.sieves.Union{:l [3 2], :r [6 2]}
</code></pre>
<h2><a href="#analysis" name="analysis"></a>Analysis</h2>
<p>analyze-sieve is a function that given a sequence of numbers, returns a sieve analysis map. The map has three keys:</p>
<ul>
  <li>:analysis - vector of 3-vector sieve analyses, where the valus are modulus,  index, and number of items covered by that sieve</li>
  <li>:sieve - a Union sieve derived from the :analysis, ready for use to generate  sieve sequences</li>
  <li>:period - period of repetition of the analyzed sieve</li>
</ul>
<p>For example:</p>
<pre><code class="clojure">user=&gt; (analyze-sieve [0 2 3 5 8 11])
{ :analysis [[8 0 2] [3 2 4] [5 3 2]], 
  :sieve #score.sieves.Union{:l #score.sieves.Union{:l [8 0], :r [3 2]}, :r [5 3]}, 
  :period 120}
</code></pre>
<p>The sequence of [0 2 3 5 8 11] is analyzed to yield a Union sieve of [8 0], [3 2], and [5 3], which repeats every 120 steps. </p>
<h2><a href="#usage" name="usage"></a>Usage</h2>
<p>Sieves may be used for any purpose, such as a list of pitch intervals, rhythms, scales, and so on. They can be used together with Score’s gen-notes as well as scale and pitch generation functions. For example:</p>
<pre><code class="clojure">(gen-notes 
    1 0.0 3.0 
    (map #(pch-&gt;freq (pch-add base-pch %)) 
      (gen-sieve 7 [2 0])) 
    0.25)
</code></pre>
<p>would yield:</p>
<pre><code class="clojure">([1 0.0 3.0 261.6255653005986 0.25] 
 [1 0.0 3.0 293.6647679174076 0.25] 
 [1 0.0 3.0 329.6275569128699 0.25] 
 [1 0.0 3.0 369.9944227116344 0.25] 
 [1 0.0 3.0 415.3046975799451 0.25] 
 [1 0.0 3.0 466.1637615180899 0.25] 
 [1 0.0 3.0 523.2511306011972 0.25])
</code></pre>
<p>The [2 0] sieve used here with gen-sieve and an assumed 12-tone equal temperament tuning, would yield the first 7 scale degrees of a whole-tone scale. The above score may then be used to generate a whole-tone chord, starting at time 0.0, with duration 3.0, and amplitude of 0.25 for each note of the chord. </p>
<h2><a href="#references" name="references"></a>References</h2>
<h3><a href="#implementations" name="implementations"></a>Implementations</h3>
<ul>
  <li>C Code from “Sieves” article below.</li>
  <li><a href="https://hackage.haskell.org/package/hmt-0.15">Haskell Music Theory</a></li>
  <li><a href="http://www.flexatone.org/athena.html">athenaCL</a></li>
</ul>
<h3><a href="#literature" name="literature"></a>Literature</h3>
<ul>
  <li>Xenakis and Rahn. “Sieves”. Perspectives of New Music, Vol. 28, No. 1  (Winter, 1990), pp. 58-78.</li>
  <li>Xenakis. “Formalized Music”. pp. 268-288.</li>
</ul></div></div></div></body></html>